language: ruby
cache:
- bundler: true
- apt: false
gemfile:
- Gemfile
rvm:
- 1.9.3
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode >  ~/.ssh/id_do.pem
script: bundle exec strainer test openssh apt iptables
env:
  global:
  - secure: eAq120w5+eBJvQpDnHawZ8IJX191K9nNOAkxruMFNc9lNIGzKmBa+lycIyWonPhAWl7QA3qJB125nLBZtsPO60Sf4E9WDxFx2R2Oh2KOYYKwyDmCZPegk8u4ebNLuKpH+4rrGfI8TzOApmysM20Sz1t1cXNpBXuoD5/dm3+kdhY=
  - secure: aYQASZDIV6/cb8wp8u4ctENKHC4F8gCGY38u3GZoQXigwsVXIIpv9z87sfPx1xvDtMdZE+hx/1oZgDnvjBCHBiHDQxACpFcOJxuuUUmY2au6ctKZtRm+5o/FV1hSYIxAKo9H1eLuPC3epV0YXGDB8CdY5XABwbVrn93E67ShTu4=
  - secure: LX4cYeCFAGadAsMTVPGf+spjIchHAmSlrOCVCD3T4qO/XEvK4YhQvvKxvdzqdkMo9IUFpxgc7cM2nQOx3g0zfD9e32hnjzNUafvs+mIBYNC4qyTu8z2tirXDsalQ+OXpO/L+7MvmG6OTpLeC5jV/bvFeCuTyGG8kxZB9JR7bQ6Q=
  - secure: T4KXkXPZn/IJDzO5l9ZJkmviKRhZaTcgy6k+o06cASfYfDNde1wpBqwI9VtAcY0xtxBUHDVlqzw5fbLfMxecg0NFUXfmdUb91N6pmUSh71n8I/aQlQxDuhy+ccrizKj+EPfOTn3UMHy3ebyX34H3ShQpgVM1ypYbohOsCQ+lors=
  - secure: MtfsC4KCvy0TqQQI+gDNcq4E0n2cLZNqrenitQ0H9VvohmgaMcvLLKkMhtyt365aTc01z/jcyowf42DXTN7iSd1a+lD2151WzN5NWLFxNm5P7VDSSso4kLfwfKA7HWhG3wcAJVlYWkBSTNpNWZpHM7nethnKdMs9/igip3fsY5s=
  - secure: KHnOvS4EBoI0JDvBFllrsS45JI3E/0qMQH9zC1pI3CuBwjZFZ0p+/feUrsjevvUN1yYJkTGiBobAsHcfmTJuTHv37W/Krl4ZkyY0UuDK6kPu5tDTN8RwspUjEeK6BBLT11HCGvKzu6V260GoW6mXRXdr1MN2sL0ilALb4/RW3Eg=
  - secure: PMhqE2m7oqp/w3+g5NHGprDUK9B0MiMUB4DJSQyo6E/V0bz8pZRaE1euWcGkQ7bUuAZszeysYz6GRtPDEuQh5cqxgpLChoxVA+94tImSL/PXDGsryMl4RX2RrmcEPfppsLPm3jB3G+m5LYA8ZHI8EfUVWGqmP+c5mrqSiMyf0pU=
  - secure: F/zjnnTMYfxFJOgq1cyzp8jjgWB5IyAe9o9WCdoys4+rvYvoa1V99z1glM67zWzqbGG6bw3ORi36T3P6E0I9NcgVCKLHEZk4NstRJmcPAyIo4qCkkZBDqw56wNutesaSXgBLRT5mKdsQitTT9d/6ixuf6B9xtif8+EZvII8K9U4=
  - secure: PNpQBegYIqb95a1UWHFo5l1bL9u3sCwo6UqLgr1C7AGzyTd5WiPk6RLuvb7Nz99Lk1VNe0ijVqnCOFSc2Y4hDfZifIrdo7NJitATfsnsgU3ogBNqC82bsqucKw8RP1/Pym0q6V+MgNvypMjT7HGX/qGr3m8XEJeVqfSoL7c0EHw=
  - secure: bGaeDbdbLdcuVAtXa/DACtNhZRapTYvclLVZDYFWo9/X6y/9kgHqWvB5OScBXP8oX5PGcwPU4ah4IISnK9A1csDFRZjrVkl3FJQSvTFoWR7rP54bbG+2TE8keUBKoK2eJtwyitughVtvJnrYAvPsi/faLK/NkT4KjP+BX3+Vt60=
  - secure: CBH7NrnamtfK+6wGlyl0fG1stRkebkYWl/F4bw3Wztkdty+DnP2QNfMfZSy7vaDIcewNFbUBaWoKQ9ZyPJTlEGegD6kpIWylmgKXQ2zbaQIAmP/sGR3dvyoU4YrqNxZTFneH+BT/uk5OGjGo1AfVnhAt1DSWIphKUsGYGsXOL+g=
  - secure: cF+s43NVr63z1rSm3svWnj0HQBuh8kx1c8s8/0Y+H5rutz7XyAzrM0s57g5vAeeosrwyujWlasijo99oyrFHm6z65GrT7R7E5EG7/PiuTZ+Uio7/EUa3gF9BCicJinuO3Y1wmJ6eF5kuiZkMgEiI6DmxxCpE8g5pA0TDYNl4EOY=
  - secure: H7qV/QGx1uoQ4MTZOwEr3OWq9b1GsKiQ06H3rNCVv82C3T9OwXC4oGnZZTHms+utYfbGnyORqS2X5uDlSTcJgcnk/iWwwS7oTE16mpMM2bKVIefiizXkHF9eRh2drxQ2tYeDAsz3m5FyIcMwXgqapZWWVlMf0POcdUtzqsPm+9E=
  - secure: aL6whga3GvWeWG0OS0XqKKdo7jFy2EY/1rDpnsxNBRIJsu+u+UAkk+8o4JMefhDFzvYJ5mmz0Co2NM2GpUuCBSRnMfxQyudusvaO/4a1Kw7+SmqseDgeq1jJ5WgPRyt8LXxBgA7JBawIuhcc3fCR/pDSHgBZygVM5kvsbwFfFhQ=
  - secure: bzyCU2gdWqEs9E/J09dhDgmqKe4inp+giHlPHmcaxBiANPDFMqeaOmN4RQ6u7BUwXZbu2f4c6EBQqMOGZCMASyswKgGiAMaYilbqx+nEbPRwvY0rIjPcYsoEhAr43DCt5iu8FQmSA/trutN2qU+oHd2724t16Q1PQOJorEt20Oc=
  - secure: H7kffHlnfiFLmwaKpdnybkVsE8fw1AP/EFnDBtsDx7HFKGTS0kZgA26g6UNEXPZteQERud1G+dgbFKINdFNC6SA8I+J7rQ9lU6BsztddwBUxe3Dfh4pFawakYI0sz+ai1JC4BgAPq6l+ezkvZd3A+uWXOXcU3Rs84qnXmxisGj8=
  - secure: ITh01a7o2tIIBaFlN6rK3IltxyozBSl2CdqVJsDiRktJ1eK2DqlqtsNeUUEeqVfoWoeNCyOvGe+cczU8JYBtCQYwdXpekX3GKMNqo88FLt6vWKSKfgJa68srKaZAX+NcaLelM7Po6HG/arUNruWdozC3XMM6DIbjELY667+Kukg=
  - secure: EFvO4Y7tLtecyOeP5ncPC8PSV9hzNcVxn7w6Npy7AYs22zpqWdzrGwwNxpzxwUPaIDnCmVsiR6xG5MBRdvWjEDyEIbU9oOfMMcyAJC1aUn7FQ0T76Um4DnI41HedsVzCurhtnHO7Xly7PL1OrdHYY6wAf6ODnV0rvy/9VPfU6Pk=
  - secure: DVNIJZoRvFQ4qMDvB94VoUAurNZMZokdDtTHz52LlhAhYzhPfwhL+tW0cAYbo9dAVnzpgj9P2JXvLsvxyM6q9hovdst7XEdD2UjYqn2IPhtAYhozG3einzN7LathdkSUfywwrBxqEDO1kY9yI0fQlrUyeXbWm7gbIHEPN4NAC8E=
  - secure: HKYy5MsgveN09bTtCgZfnsadI/9DjOgPew7wcfj0se0Bzzz+6T8EFEfpHCs25Z/tVx7yi/6FjU4cUxG1htZRrlguKZMB70ieUes6y3y5E66/RL1RXgjX4D2+PfJVNxrAzYskrg39A1tV232L0dUaeoP0varWvm4AGyZwVXkVOII=
  - secure: DymrF+SmtdLKh0K5EWMnRRfa51eVMB+P16LHV1co/rR8jj4gVQhn6A0J8GHNeDQlwFAS/xWPCdSoJOEFUiD6WtBl4yEFLnYfXrzAo7iDr8ge7na3HHZqvGAsdUcud+np4gBE9L2km0QwH0R46LYv1wyYNnwpCsPG5iu5TRf7MrI=
  - secure: DxnJ2JCNem8UkFwY+PtbsaX+jYtfyGoy1vd21QdXFrzY5DSVnV569poeuhCoPfmNp/VvmmkqnxYIndpxSJFe5XTg0F0VSulzcK6VPIm63TIAOHTi06dJPp4WpI4HRPQOM5JXo6DqD//abZegIGZpU5tIzjLaZ8qEF1qU5xs5zJ0=
  - secure: aH2Unok2Ix8092OkJLrsjzwv7l7Bk8ODV1tNVlNN/oa5mhB4w86bw2GFPWCEA/c4C+I1o2ts1IjUwHERzzR1nMJ7sasmO4wPBTG5eNrs/vL4frfEQfiY2L8Qo575yqqDBQHi5fi20owCpAkUNhT93HXgfdFXvRk1iOhC5CdhTZI=
  - secure: dJkiatKbqIGfl9elS4JwZJKaCkzr9uw+uyTJYTyOOfwAq8Ev3Dd6E3y+IpRjl4tnJEOtxahn0vTBVtqN4JZfsu7baaty95cNahBTLSV0gnlZvwdXDUpBllktKCVepK1dbpVlAETJ/xd272gKNIiJ2sQHzHJl8SDg6B171Mq0v98=
  - secure: E8c+sgiKoygmSB+APtXXWkNh8qRM6/0YqZiWxaNAClFxwDTyhe/7vTnNwynwVrdmIR402mmVUiucAChmgglCOjgCUlSb1ywKxzImSj13LNGSYSeA0KNQSsz+Amarmyc650F2YoYfyujiR9cE/g6fupPdfu+h+IDC+YadVR2A7ok=
  - secure: UitN9QBwi5VXpajlaNrX8XE+mXC6cGpSKXIRA6n6x38PT0iSsRmIBx2iEzdnFn7s2cTn4RejA3PBEB36P1x70/EORVPF8GZlw/tHbtPz89S11dKAt8ntqLBl0dMGq/NMKe2obo+Gyt2/7/0NY821mrtPNb5UEPJmZFbjMMNF4Lk=
  - secure: RcsmU4U1ihV4Oj7nptbgXX9rDTulhb0sgMN7anM7O9PLgD3CVZABQPOcFvbFQl5bRovDHLBlvV0P3p6ehWVlZyQjJLh9zmUVSccQS5dTB4Ub1A1vCoMNhHqPtop/dOC6XPdpfLqhngASd0zoeV9EaBUQaCA/exhZFU83af+usW4=
  - secure: dtFD9HcexDYPTWnUhlX/gf8PY5KKfaGVsLzAbCiWxI5t5QTiCNNDUHXa0PzPNZeoW6PC1ZxnKv8PAVZQXbXfb1PhdN41EQI5s6sAd1+uisbNfmJ2PZWvwhly7kYDiH/Bk1tS51UDT8nERXF+EZq+LEcjhrFBTGdUzGmBEpF47g4=
  - secure: PGOm1GtUcINfQl/c4Zg174FQGmjAgaH0roqlDqgZYI/wqTMjxSojS01dUfRreOdbtEXvoKyrqB1vl833WUErhljXc/XTGUHHtqxElXxgM6YPRjAEjgvFg1SDmXSEPjFlb8A48CsLSnO4pPkfE+E4JDAX5NP9k02KdKS9xD7euGA=
