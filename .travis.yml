language: ruby
cache:
- bundler: true
- apt: false
gemfile:
- Gemfile
rvm:
- 1.9.3
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode >  ~/.ssh/id_do.pem
script: bundle exec strainer test openssh apt iptables
env:
  global:
  - secure: NCL/R2QSBAke/ie6JJ5S6kZWs/nEAuarpkTT/KUs1TwkMIfCkkOPZg9GTXBXS9doh/LFEq/j5hqq4Of6yP/Ym4KW5dTd0ATtTUU4jxz7HV+2ISpLDZBk8ozq3qQlfoW3YEWwFFHcj62RZLgelDUyMTZGkrvU0wlylgABeRX5Qo0=
  - secure: PkoX9UneyFVjtXs9S11eJieUO1jtTo9KwZk9lVhK14Ag5G+qbOKQPibtc0tXnnHOqPCS0Y4q0mrAyCDg3nMlNrHzwQ3SNAYhTlITVkILxrOaGwzYs/L+xmMLEaH0ne6BRWrPOzjHe0m0VZhPpxQksdEVzkAypv/7q7vYhMxcG64=
  - secure: K5i+a97i/4hDSQHbYH1YviDXKh5Al56X0zeyTECVPKVc1iVFDcv5KiDm4KvQkHCvA30f+S4gRx/beaxt5FIenlNB9aqQoRiG9DuM3NtKYiQ+RI8iuTXkgVrvQw2UhM5z75vpuIvN/3Yfhuxfcly/Ak3qzMkCjrbfP64iwBWIZmI=
  - secure: XrmutTVWegZuSNFxVkFqwG1LVrdItxOUh6bCeQwqZ/QU9RCwcsbEpua5VSSZ6ApdTIQgkAICOUTiJ/+Fut4BD3p5tUkmh8mStb5OM/z6w44+90T+z2/doewc3zx6KIiKMH2XPxioHnM/lAdemarvQwzUXy0xWg6fcXO3nSSn6bA=
  - secure: g4l/34Tdd2jaiVF2b1HA2W6hR9/yVdQ03BzxDe334eY/WF2qEH5/7L4wvjsOCZpepYo015paHqdJdnb+aW5NzxSd6cBNwPkp54sCZ9+vP4Mr5z8yqfrjMqShW9Prm4BZZJVjIYnHg8WgLXE0h8WMAEcbsdSQiPR6Z0xMEN4KkIo=
  - secure: Pyryqm9Tod69sfymsqKb+C6rbnNHxg08XrOu5fd0+tjxqZPHTwSLWM/LFhqo0B3IugQjDqiDam8wXTnbr7Gi6XTlma+UEeftK78F6K2kZJ8HyCeNVgUnPX4fiGt3CB4Y7Z4ySOBA9IlWLPQu8swm45D/lU2xr7VnpCYWX6fxTQc=
  - secure: OtoFXaq6bGfI95yUN0lPZUxycMX4H6Dqd/7uukZeI+Wsdb9BCtJeykP0QOTXkrQS3TPBoXk+XtmPj1HZz5z+3XjBGXqmw94wOf9OCEbfsSiWHYVuUicdbxrskHVSJWKuk1qCp76mPrTty7A6kTfnqM7h/Yd6gOQOVvc3Ue8cbCM=
  - secure: P2naUC3F9DmEzWsvYWcY5dWybO/hoNhmvx9vNGWTEjfyfbdOvLDcnILygcsXv6QQo38Q1Dyr2uc36KZ67Ky00D60yDFzpjfid9565DPxNdHSzs66FjDp06/2yVf7it2YTSts6ozTUaZ1CjT49g/nnwEdZI5WDjM/jw1SX6qxRtM=
  - secure: EVVTi0QRBJ5c+qxobpEKf9EXqwbR8IvTou2aa23EsY/dyRW6iEVKwF67qzVHWTRNspukWQuTRBqasUew3ZViNzNJICdJk4Mg5vqDalB7H5gk1AvqgOqhZIYDE/fKyDrMJh9staXGoDFahwA4XfJptNLgxDZedKDPIBr0X+u4Oeo=
  - secure: Eqf30jQGBALouKnpkRzPsjlJq0+TGfmKfn0odySBV007mTVOu/sTazuNEQySO5nr8BbJrQWuHljBvHLMYMFaWWta+jTDaGSGyUAWxbqRvnaTEKwCK+H/3LYylk+zXIy6WlcSi3y/fGFxM0h8pTWJqv2mJ/0+cQFZar5SNvaC1DQ=
  - secure: HCSFK2OFf9qYb3SLfRfCgVgKUblc/qP7MaNATjCTMHgqrLDGN/HCjXoS0ZHEWuh1z2E8z6OLDKDSfodsXKBu8BC85k+8ga3jBjZZGzM+ucgYLbkDufylGyxNiJttng9GW9ck0/kDlcHwnaydzdFvIUcR5tK0GwpJt8KxAbXUVjE=
  - secure: NNbqvo+0CH1t5ZRhVgky+WnvLnrG92cRc4PZ2bOMb1dKYIA5KTsCJjRlK+OjJNDQhH6S2gAGFdI+Va4mUC1ZZL5J2cAv/Xmpc1M8vcnIxQOBt36rB6g/4igcdye5MGWc9I1r6qrQjd0R825DMGqG5BC4+4TcJUOlUx6yVOWhXcQ=
  - secure: EhhAL5pA2uOnOB7vaboaqeCyA1shvVWW13iqIArLMbSm5wtKSxcZv31C0hL2Ihus+293pGxcQQrg7Kzq1Z/wUYX8UdsyDKeWbbwEYYRlkrGfNWsfI9pxUFmWBqIQ5d5DkcpiK1haal7prT4KmJPInKB1gAPRvM1LeN2OcoIN3zk=
  - secure: BmBaE0wDSZUlZt2xftH6KwqTPggDdxpJ0hxVN3BJDnUpi2f9ztcKghMIokWtys10NRsRb+NkPaFCU75sLKRt8I/f1ChzONvnfNacorDdpGJZvaYz/d5CdyrNDuSka4Ojxw837MSwBWn8/zHx2A/ce9Lw4POVvtyWNAELv9G5XNY=
  - secure: QHcycD8Sd7P1Y5gi9HOHhiGptq4I0aEMTemg8sKcs0KJvJaS+528aI6VeMRtT55P6O37h9gsZzgoLX38M8UpY+LzMlj7aT3r7OeXkX24exVkNWux0cj4ixrT7uLWoOfw1y5V12XDMy7tMdHPiCoI+UnakByvScANBlvw4Zxo/jQ=
  - secure: hVNV7PXU4TlycfPdMAJUIgBAfm/XeG1cg+ut2c0EY1jnqNs9Mh2GdqMzwu2UyMeOeQmgSdU3vuKSnqZrIr1rnMsSzcK1xeEV/YiTUqUsbkRICUOwOhdG9H0fW5EPABEHglM09CDkDEeGyYpyNFwRFRHeG3wZCUEKTkrQ6gMTdH8=
  - secure: RXjxrrK/3tujoR8VvELb0gMpBn6lHIJBzZoaIr94dHUDl24TbAsMGidHm5BTqoShQvKIu68xl2lHmTQqtCuTns/m50p3M5FnNGirD8d4kvp35ZfoMeRSF+ccRi0KTY9FTQL/NiCQ0hRX2wVQMMaffgL4PJJoyqtKmYIypD9iP9Y=
  - secure: NadiZBRa8RpSCIQjgJUU0oKGbyhpoIatqts130n3BDjDb8feXFHcEXvvNPkSm4dVzI+7DUm0rWVMqG/yOdmmnJpm4jLtQkPWQALut3QRenSUy2YCFMocQOOyh0EKhACX/UTjBFHf6P6Hz/jerJsiLEMNTQb+97dPl/bZ0JoM4XY=
  - secure: TCdD0pP4Jv0Yw2J90ncpuhBCx9D0QzFTk+oz89D/knUj7mVlZ50rp1VUdjAjNIumiyi6/M44f9MT3WIsVnwBR+uRcpQEaWC6dgSo7r8CjCvke81tmxh9d0ognO/ZoMT9ZLHbX0eu72cvlVAPKkhobNvo7msTUxh9rJ36rTMNcdc=
  - secure: RdEepRZ1alMgX0xnfkbU7xlBDLOx9Xw+xsoJskgp+HeWO2uCnM6bMumkfr9Jq5ZSQumxLHBkd1CrxFU6x9uIwwcjLu2TJdiuLlh6NVEBwKAbav8C55PQaanT5S4RB4ND7B0hBb0Omb6yPCe08nOhq6SplY6gd3v8fnziuJKnVIA=
  - secure: BJezCbimjao1BNfttmll88CIf3S0JoZDCLZHhYrnixfINllzIXSDjqXOpkJKgrk0vskT/VAa+KQBVFsB7/KAry5SNLIE40+K+6qsM194hgp4tMEXBenNXUzNrnNpLuhCif3zatgoocrd5jl6CxWLQsahUXfIh1F6kbTAkLEYxxk=
  - secure: bjyrQYirAY12XO/+RlmaMQNA6HI9OtGkhSMIpO7HAk5a7udzxUcUhDjuTzxpDKJQnNnZU7NlB8d3F73n4kYbjcJBPvqnEjcN9OoQaRraIJZYg01PNDplVP3BZh1Z1mpgkJvEVv4Y31EbGbbk3c5MzCDdSFp59SvckdqsFK6Y6Cs=
  - secure: I6gPaJ7dA/YI8kW7Vmd4ZQDE8+reMUBsjJ9r+FWrePA70JZAVQ2Ka3VBnOJ+1yVJbnXEHPUeFXhGX+2Ej7Yn4AbLowi79P6mkAguXzCE1snzP4ZJrUecAWiddlln3i0wX5OqnmFOM5iNjnZMN6WCwjxkzK0zxbPlHHnIGiBcmGI=
  - secure: VV5LZx11YZCsFuiQb2YD0Wc/6ouDcTi8KBWBgXE7HCnIXGVUNxOw9cnr3bYu1gvGRMvb9zpXtGgWpdKae5m1H/xW2fYBDzjEvIaWmHIvXBMiHRNnkzmcaaeji0g5GqXzfocJHfdHNhPFt0ATOp/8AqmjByfRL+Ek7Dol4whI734=
  - secure: hTbMzuMSa7tV3YcxkfXbyrEqKW9kXdKSQ0EodWqQNp9VU/K2zBpsqzT8vPw1+n8FNbx7o/SQ5XNSwiLyIt8aejQL4lYMFEwo+JmIdQxbse9JFzpJTYRC0g8kAb9s77T3YiL6/BxO28uaR4csifv1dqfGx36UUr9a4+8mxk95Hgw=
  - secure: QP0U20M+EeZML9HIwYYo4ixQLrwQG8eTfzHTbnzg8RuCQh6wlwTxJfIh+tq+NpsgbSJ2OkOlvXsQymVQLWikcHfO1eDG9hs5PSTAU9lNDge7KbL9zd9cVUXfFOF+Lu/uOiqoQmOjy9JPBf1ScM1aObKy/gzt7JqzIjSBbMHZJ0U=
  - secure: PyzyWtgDa8t9jjaRG3g7c3xbkvb2d2TZOXEKwozMWlEGMqg8/ZqTBhX7KeZJbjEt/KxO19Kp+oOH2Px7lzCzMnNiauXvyruTkPum8SolGGyCXggONF6UOGUbxR2NhQEWuYp+SrTalipU3jkuhMProY6gEjeK0Lifzv7qiEigGBc=
  - secure: coIx5/OQSYHULr6ggSAFi1mpqljpnnFxY/EeOjx0Zd1PR5rd6iCkNMZYKQwKkixphUGzlAnr6oAJEGxqp/KTw+hPXBvAAsaHRoRRh0bgqJU/qU9GgnfdGS9p0eCA31V0nDjXHaR6nDfBg1XdSUlSs9kC9LfvjkQ6q3wAjRbohBQ=
  - secure: Kt202feTVUzjVTq10723WdEmzzxz04D4CJndFLYi8HbSNa1/HXwdcirq0HT8l8hmpe72ExJjE+cYCbMBR8RW0MU9bxyLtjQWpIbqMI/WItqVu1EPFXFFq+a2GS7aGXVWFNgibGKzSLD0L8SoUtFZ0Gl7Iy9FUJX7B1jqh9tjySc=
